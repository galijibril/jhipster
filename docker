   - name: Build & push Docker image
      uses: mr-smithers-excellent/docker-build-push@v5
      with:
        image: galijibril001/galigithubworkflow
        tags: latest
        registry: docker.io
        dockerfile: Dockerfile
        username: ${{ secrets.DOCKER_USERNAME }}
        password: ${{ secrets.DOCKER_PASSWORD }}

        FROM openjdk:8
        EXPOSE 8080
        ADD target/galigithubworkflow.jar galigithubworkflow.jar
        ENTRYPOINT ["java","-jar","/galiithubworkflow.jar"]

        FROM openjdk:8
        COPY ./out/production/HelloWorld/ /tmp
        WORKDIR /tmp
        ENTRYPOINT ["java","HelloWorld"]

steps:
  - uses: actions/checkout@v2
    name: Check out code

  - uses: mr-smithers-excellent/docker-build-push@v5
    name: Build & push Docker image
    with:
      image: repo/image
      tags: v1, latest
      registry: registry-url.io
      dockerfile: Dockerfile.ci
      username: ${{ secrets.DOCKER_USERNAME }}
      password: ${{ secrets.DOCKER_PASSWORD }

  -uses: mr-smithers-excellent/docker-build-push@v5
  with:
      image: docker-hub-repo/image-name
      registry: docker.io
      username: ${{ secrets.DOCKER_USERNAME }}
      password: ${{ secrets.DOCKER_PASSWORD }}
